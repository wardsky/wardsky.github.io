<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
    <title>Monster</title>
    <style>
      body {
        position: fixed;
        box-sizing: border-box;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0.5rem;
        background-color: black;
        display: grid;
        place-items: center;
      }
      #description {
        max-width: 36rem;
        overflow-y: auto;
        text-align: center;
        text-wrap: balance;
        font-size: 1.5rem;
        line-height: 1.8;
        color: white;
      }
    </style>
  </head>
  <body>
    <div id="description"></div>
    <script>
      const backgroundImages = [
        './images/BKG056.JPG',
        './images/BKG068.JPG',
        './images/BKG166.JPG',
        './images/CKG241.JPG',
        './images/CKG262.JPG',
        './images/CKG272.JPG',
      ];
      function getSeed() {
        return Date.now();
      }
      function pickRandom(options, seed) {
        const index = seed.value % options.length;
        seed.value = Math.floor(seed.value / options.length) + index;
        return options[index];
      }
      function setBackground(seed) {
        const imageUrl = pickRandom(backgroundImages, seed);
        document.body.style.backgroundImage = `url('${imageUrl}')`;
      }
      function setDescription(seed) {

        const [wingsText, wingsFlags] = pickRandom(
          [
            [`Dragonfly wings`, {}],
            [`Bat wings`, {}],
            [`Bird wings`, {}],
            [`No wings`, { noWings: true }],
            [`No wings`, { noWings: true }],
            [`No wings`, { noWings: true }],
          ],
          seed
        );

        const [limbsText, limbsFlags] = pickRandom(
          [
            [`No limbs (i.e., ${wingsFlags.noWings ? `slithering` : `flying`}`, { maybeNoTail: true }],
            [`Two arms or two legs`, { maybeNoTail: true }],
            [`Two arms and two legs`, { maybeNoTail: true }],
            [`Two arms and two legs`, { maybeNoTail: true }],
            [`Four legs`, {}],
            [`Six or eight legs`, {}],
          ],
          seed
        );

        const bodyText = pickRandom(
          [
            `Shell/exoskeleton body`,
            `Scaled/feathered body`,
            `Hairy body`,
            `Spiny body`,
            `Bare body`,
            `Bare body`,
          ],
          seed
        );

        const tailText = (
          limbsFlags.maybeNoTail && Math.random() < 0.5
            ? `No tail`
            : pickRandom(
                [
                  `Club tail`,
                  `Stinger tail`,
                  `Spiked tail`,
                  `Tail matches body`,
                  `Tail matches body`,
                  wingsFlags.noWings ? `No tail` : `Tail matches wings`,
                ],
                seed
              )
        );

        const limbsTypeText = pickRandom(
          [
            `Hooves`,
            `Tentacles for arms/legs`,
            `Bird legs`,
            `Crab or scorpion legs/claws`,
            `Elephant or tortoise-like legs`,
            `Webbed hands/feet`,
          ],
          seed
        );

        const eyesText = pickRandom(
          [
            `One eye`,
            `Two eyes`,
            `Two eyes`,
            `Two eyes`,
            `Three eyes`,
            `Many eyes`,
          ],
          seed
        );

        const hornsText = pickRandom(
          [
            `No horns`,
            `No horns`,
            `One horn`,
            `Two horns`,
            `Two horns`,
            `Three horns`,
          ],
          seed
        );

        const mouthText = pickRandom(
          [
            `Mandibles`,
            `Tentacles for a mouth`,
            `Beak`,
            `Fangs`,
            `Shark or horse teeth`,
            `Tusks`,
          ],
          seed
        );

        description.textContent = [
          limbsText,
          wingsText,
          bodyText,
          limbsTypeText,
          tailText,
          eyesText,
          hornsText,
          mouthText,
        ].join(' - ');
      }
      const seed = {
        value: getSeed(),
      };
      setBackground(seed);
      setDescription(seed);
    </script>
  </body>
</html>
